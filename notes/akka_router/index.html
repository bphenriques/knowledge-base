<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Intro #  In Akka, Router routes messages to destination Akka Actors called routees that can process messages in parallel to improve throughput. The way routing is done may be configured to fit the use-case.
Routing Strategies #  Determines how router routes to its routees.
 RandomRoutingLogic: Pure random and fast. May be unbalanced. RoundRobinRoutingLogic: Take turns. Is more fair and distributed. But depending on the messages, some actors may have more work than others."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Akka Router"><meta property="og:description" content="Intro #  In Akka, Router routes messages to destination Akka Actors called routees that can process messages in parallel to improve throughput. The way routing is done may be configured to fit the use-case.
Routing Strategies #  Determines how router routes to its routees.
 RandomRoutingLogic: Pure random and fast. May be unbalanced. RoundRobinRoutingLogic: Take turns. Is more fair and distributed. But depending on the messages, some actors may have more work than others."><meta property="og:type" content="article"><meta property="og:url" content="https://bphenriques.github.io/knowledge-base/notes/akka_router/"><meta property="article:section" content="notes"><title>Akka Router | Bruno Henriques's Digital Garden ðŸŒ±</title><link rel=icon href=/knowledge-base/favicon.png type=image/x-icon><link rel=stylesheet href=/knowledge-base/scss/explorer.min.fff1aaee6fb1e5a74069ac1205647344fa7bf178f7f20b3abcf095b18d0c24fe.css integrity="sha256-//Gq7m+x5adAaawSBWRzRPp78Xj38gs6vPCVsY0MJP4=" crossorigin=anonymous><script defer src=/knowledge-base/js/vendor/flexsearch.bundle.js></script><script defer src=/knowledge-base/js/search.min.fa36486e7efe8bf981b7efd64989e6e484efc0ee937e313422b50d3e8926df67.js integrity="sha256-+jZIbn7+i/mBt+/WSYnm5ITvwO6TfjE0IrUNPokm32c=" crossorigin=anonymous></script></head><body><input type=checkbox class="hidden toggle" id=site-menu-control>
<input type=checkbox class="hidden toggle" id=content-menu-control><main class="container flex"><aside class=site-menu><div class=site-menu-content><nav><h2 class=brand><a class="flex align-center" href=/knowledge-base/><span>Bruno Henriques</span></a></h2><div class=search><input type=text id=search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="search-spinner hidden"></div><ul id=search-results class=item-preview-list></ul></div><a class=site-menu-shortcut-link href=/knowledge-base/notes>Recent Notes</a><p class=site-menu-tags-title><b>Tags</b></p><ul><li><a class=list-tag-item href=/knowledge-base/tags/akka><div class=tag-dot style=background-color:#ffecb3></div>Akka</a></li><li><a class=list-tag-item href=/knowledge-base/tags/concurrency><div class=tag-dot style=background-color:#f5f5f5></div>Concurrency</a></li><li><a class=list-tag-item href=/knowledge-base/tags/data><div class=tag-dot style=background-color:#ffe0b2></div>Data</a></li><li><a class=list-tag-item href=/knowledge-base/tags/data-structures><div class=tag-dot style=background-color:#ffcdd2></div>Data structures</a></li><li><a class=list-tag-item href=/knowledge-base/tags/databases><div class=tag-dot style=background-color:#f1f8e9></div>Databases</a></li><li><a class=list-tag-item href=/knowledge-base/tags/dispatcher><div class=tag-dot style=background-color:#c8e6c9></div>Dispatcher</a></li><li><a class=list-tag-item href=/knowledge-base/tags/editors><div class=tag-dot style=background-color:#ffb74d></div>Editors</a></li><li><a class=list-tag-item href=/knowledge-base/tags/jq><div class=tag-dot style=background-color:#e1f5fe></div>Jq</a></li><li><a class=list-tag-item href=/knowledge-base/tags/json><div class=tag-dot style=background-color:#ffebee></div>JSON</a></li><li><a class=list-tag-item href=/knowledge-base/tags/jvm><div class=tag-dot style=background-color:#90caf9></div>Jvm</a></li><li><a class=list-tag-item href=/knowledge-base/tags/kotlin><div class=tag-dot style=background-color:#ffe57f></div>Kotlin</a></li><li><a class=list-tag-item href=/knowledge-base/tags/lightbend><div class=tag-dot style=background-color:#f0f4c3></div>Lightbend</a></li><li><a class=list-tag-item href=/knowledge-base/tags/monitoring><div class=tag-dot style=background-color:#e3f2fd></div>Monitoring</a></li><li><a class=list-tag-item href=/knowledge-base/tags/note><div class=tag-dot style=background-color:#bbdefb></div>Note</a></li><li><a class=list-tag-item href=/knowledge-base/tags/protocols><div class=tag-dot style=background-color:#ab9df2></div>Protocols</a></li><li><a class=list-tag-item href=/knowledge-base/tags/psql><div class=tag-dot style=background-color:#e0f2f1></div>Psql</a></li><li><a class=list-tag-item href=/knowledge-base/tags/queue><div class=tag-dot style=background-color:#ffebee></div>Queue</a></li><li><a class=list-tag-item href=/knowledge-base/tags/reference><div class=tag-dot style=background-color:#00bfa5></div>Reference</a></li><li><a class=list-tag-item href=/knowledge-base/tags/router><div class=tag-dot style=background-color:#c8e6c9></div>Router</a></li><li><a class=list-tag-item href=/knowledge-base/tags/scala><div class=tag-dot style=background-color:#ffd180></div>Scala</a></li><li><a class=list-tag-item href=/knowledge-base/tags/security><div class=tag-dot style=background-color:#b3e5fc></div>Security</a></li><li><a class=list-tag-item href=/knowledge-base/tags/signing><div class=tag-dot style=background-color:#ffd866></div>Signing</a></li><li><a class=list-tag-item href=/knowledge-base/tags/snippets><div class=tag-dot style=background-color:#e1f5fe></div>Snippets</a></li><li><a class=list-tag-item href=/knowledge-base/tags/stream><div class=tag-dot style=background-color:#d1c4e9></div>Stream</a></li><li><a class=list-tag-item href=/knowledge-base/tags/system-design><div class=tag-dot style=background-color:#ffebee></div>System design</a></li><li><a class=list-tag-item href=/knowledge-base/tags/uncategorized><div class=tag-dot style=background-color:#90caf9></div>Uncategorized</a></li><li><a class=list-tag-item href=/knowledge-base/tags/work><div class=tag-dot style=background-color:#f5f5f5></div>Work</a></li><li><a class=list-tag-item href=/knowledge-base/tags/zettelkasten><div class=tag-dot style=background-color:#e3f2fd></div>Zettelkasten</a></li></ul></nav></div></aside><div class=page><header class=mobile-navigation-header><div class="flex align-center justify-between"><label for=site-menu-control><img src=/knowledge-base/svg/menu-page.svg class=icon alt="Page Menu"></label>
<strong>Akka Router</strong>
<label for=content-menu-control><img src=/knowledge-base/svg/menu-content.svg class=icon alt="Content Menu"></label></div></header><article class=markdown><h1 class=post-title><a href=/knowledge-base/notes/akka_router/>Akka Router</a></h1><h2 id=intro>Intro
<a class=anchor href=#intro>#</a></h2><p>In Akka, Router routes messages to destination <a href=/knowledge-base/notes/akka_actors/>Akka Actors</a>
called routees that can process messages in parallel to improve throughput. The way routing is done may be configured to fit the use-case.</p><h2 id=routing-strategies>Routing Strategies
<a class=anchor href=#routing-strategies>#</a></h2><p>Determines how router routes to its routees.</p><ul><li><code>RandomRoutingLogic</code>: Pure random and fast. May be unbalanced.</li><li><code>RoundRobinRoutingLogic</code>: Take turns. Is more fair and distributed. But depending on the messages, some actors may have more work than others.</li><li><code>SmallestMailboxRoutingLogic</code>: Tracks the size of the mailbox.</li><li><code>ConsistentHashingRoutingLogic</code>: Messages go to a specific routee.</li><li><code>BroadcastRoutingLogic</code>: Sends to all routees.</li><li><code>ScatterGatherFirstCompletedRoutingLogic</code>: Similar to broadcast but looks for the first response. This optimizes speed as the picks the first one.</li><li><code>TailChoppingRoutingLogic</code>: Similar to previous but delays a bit before sending to the next routee.</li></ul><h2 id=types-of-router>Types of Router
<a class=anchor href=#types-of-router>#</a></h2><p>How the routees are managed. In this case, the message delivery is optimized:</p><ul><li>Messages are not enqueued into the router&rsquo;s mailbox but are delivered directly to the routees.</li><li>but delive</li></ul><h2 id=pool-router><code>Pool Router</code>
<a class=anchor href=#pool-router>#</a></h2><p>Creates and supervises a number of routees according to a configuration. E.g., create 5 routees. It can be configured to dynamically adjust the number of routees.</p><h2 id=group-router><code>Group Router</code>
<a class=anchor href=#group-router>#</a></h2><p>Router is configured to route to existing actors (routees). Each actor is supervised by the parents and not by the router as opposed to previous type. In this case we need to especify the routees and will find all that match.</p><h2 id=special-messages>Special Messages
<a class=anchor href=#special-messages>#</a></h2><ul><li><code>PoisonPill</code>: Is never send to the routee. In this case, this only kills the router. The outcome of the routees will depend on the type of router. On <code>Pool Router</code> (routees are supervised by the router), they are also go with it. On <code>Group Router</code> the router will kill but the routees will not because are not supervised by it.</li><li><code>Kill</code>: Ditto.</li><li><code>Broadcast</code>: Delivers to all routees regardless of the routing logic. We can use it to stop all routees by wrapping a <code>PoisonPill</code> inside a <code>Broadcast</code> message.</li></ul></article><footer class=page-footer></footer><label for=site-menu-control class="hidden site-menu-overlay"></label><label for=content-menu-control class="hidden content-menu-overlay"></label></div><aside class=content-menu><div class=content-menu-content><div class=toc-tags><p class=toc-title>Tags</p><div class=list-item-tag style=background-color:#ffecb3>Akka</div><div class=list-item-tag style=background-color:#c8e6c9>Router</div></div><p class=toc-title>Table Of Contents</p><nav id=TableOfContents><ul><li><a href=#intro>Intro</a></li><li><a href=#routing-strategies>Routing Strategies</a></li><li><a href=#types-of-router>Types of Router</a></li><li><a href=#pool-router><code>Pool Router</code></a></li><li><a href=#group-router><code>Group Router</code></a></li><li><a href=#special-messages>Special Messages</a></li></ul></nav></div></aside></main></body></html>